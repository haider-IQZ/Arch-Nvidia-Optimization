# NVIDIA Kernel Module Parameters
# Based on PikaOS optimizations
# Place this file in /etc/modprobe.d/nvidia.conf

# Enable kernel mode setting and framebuffer device
options nvidia-drm modeset=1 fbdev=1

# Performance optimizations
options nvidia NVreg_UsePageAttributeTable=1
options nvidia NVreg_RegistryDwords="OverrideMaxPerf=0x1"

# Power management
options nvidia NVreg_PreserveVideoMemoryAllocations=1
options nvidia NVreg_EnableS0ixPowerManagement=1

# Additional features
options nvidia NVreg_EnableBrightnessControl=1
options nvidia NVreg_EnableGpuFirmware=0
